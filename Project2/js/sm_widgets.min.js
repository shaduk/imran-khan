(function(c){function q(b){var a="",d="",k="",n="",A="",F="",v="";c.each(b,function(b,e){v=e;e=e.replace(/(:|\^|\.|\[|\]|,)/g,"\\$1");a=".sm-widget-staticChart-"+e;c(a).each(function(){d=c(this).data("size")?C[c(this).data("size")]:"m";k=c(this).data("chart-type")?D[c(this).data("chart-type")]:"l";n=c(this).data("timeframe")?c(this).data("timeframe"):"3m";A="on"==c(this).data("logscale")?"on":"off";F="http://chart.finance.yahoo.com/z?s="+v+"&t="+n+"&q="+k+"&z="+d+"&l="+A;g(a,F);c(this).append('<img class="sm-static-chart-img" src="'+
F+'">')});c(a).find(".sm-static-chart-img").one("load",function(){l(".sm-widget-staticChart-"+e);var a=".sm-widget-staticChart-"+e;c(a).data("transition")&&c(a).transition({animation:c(a).data("transition"),duration:"1s"})})})}function l(b){c(b).find(".sm-loader").removeClass("active")}function p(b,a){var d={};c.isArray(a)||(a=[a]);c.each(a,function(a,n){d[n[b]]=n});return d}function m(b,a){c.each(a,function(a,k){var n="",A="",e="",v="";a=a.replace(/(:|\^|\.|\[|\]|,)/g,"\\$1");c(".sm-widget-"+b+"-"+
a+" .sm-data-property").each(function(a,d){n=c(d).data("property")?c(d).data("property"):"";A=c(d).data("callback")?c(d).data("callback"):"";n&&(null!==k[n]?A?(v=window[A],e=v(k[n])):e=k[n]:e="N/A",c(d).text(e))});var f=".sm-widget-"+b+"-"+a;if("quote"==b&&"undefined"!==typeof k.Change){var g="";0<parseFloat(k.Change)?g="up green":0>parseFloat(k.Change)&&(g="down red");c(".sm-widget-"+b+"-"+a).find(".arrow, .caret").addClass(g)}c(".sm-widget-"+b+"-"+a).each(function(a,d){l(f);c(d).data("transition")&&
c(d).transition({animation:c(d).data("transition"),duration:"1s"})})})}function w(b,a){var d=c(".sm-widget-news"),k=0<parseInt(d.data("count"))?parseInt(d.data("count")):null,n=1;c.each(a,function(a,b){a.replace(/(:|\^|\.|\[|\]|,)/g,"\\$1");if("undefined"!==typeof b.description){d.append("<h4>"+b.title+"</h4>");d.append('<div class="sm-news-date">'+b.pubDate+"</div>");d.append('<div class="sm-news-desc">'+(null==b.description?"":b.description)+"</div>");d.append('<div class="sm-news-link"><a href="'+
b.link+'" target="_blank">Read more</a></div>');if(null!==k&&k<=n)return!1;n++}});l(".sm-widget-news")}function u(b,a){var d={};d[b]={};c.each(a,function(k,n){if(0==k||0==k%2&&"undefined"!==typeof a[k+1])d[b][n.content.replace(/\s*\(.+\)/g,"").slice(0,-1)]=a[k+1].content});return d}function f(b,a,d){a=String.format(r,encodeURIComponent(String.format(t,b,a)));c.ajax({url:a,dataType:"json",async:!0,context:{yqlTable:b,contextId:d},success:h,error:e})}function h(b,a,d){a=this.yqlTable;d=this.contextId;
var k=null,n=null;"undefined"!==typeof b.query.results&&0<b.query.count?(k=b.query.results[Object.keys(b.query.results)[0]],"feed"==a?(n=p(y[a],k),w(z[a],n)):"yahoo.finance.quotes"==a||"yahoo.finance.xchange"==a?(n=p(y[a],k),m(z[a],n)):"html"==a&&(n=u(d,k),m(z[a],n)),g(a,n)):g("ruQuerySuccess, no data for "+a,b)}function e(b,a,d){g("smYqlQueryError",a+"|"+d)}function g(b,a){E&&("undefined"!==typeof a?console.log(b,a):console.log(b))}c(document).ready(function(){var b=[],a=[],d=[],k=[],n=[];c(".sm-sortable-table").tablesort();
c(".sm-sortable-table thead th.integer").data("sortBy",function(a,d,k){return parseInt(d.text(),16)});c(".sm-sortable-table thead th.float").data("sortBy",function(a,d,k){return parseFloat(d.text())});c(".sm-marquee").marquee().mouseover(function(){c(this).trigger("stop")}).mouseout(function(){c(this).trigger("start")}).mousemove(function(a){1==c(this).data("drag")&&(this.scrollLeft=c(this).data("scrollX")+(c(this).data("x")-a.clientX))}).mousedown(function(a){c(this).data("drag",!0).data("x",a.clientX).data("scrollX",
this.scrollLeft)}).mouseup(function(){c(this).data("drag",!1)});c(".sm-widget").each(function(e,f){var v=c(f),g=v.data("symbol"),h=v.data("type");v.addClass("sm-widget-"+h+"-"+g);c(f).data("transition")&&c(f).addClass("transition hidden");c(f).data("loader")&&0==c(f).find(".sm-loader").length&&c(f).prepend('<div class="active sm-loader"></div>');if(""==g)return!0;"quote"==h&&0>b.indexOf(g)?b.push(g):"stats"==h&&0>a.indexOf(g)?a.push(g):"currency"==h&&0>d.indexOf(g)?d.push(g):"staticChart"==h&&0>k.indexOf(g)?
k.push(g):"news"==h&&0>n.indexOf(g)&&n.push(g)});b.length&&(g("Getting quotes for tickers: "+b.join(",")),f("yahoo.finance.quotes","symbol IN "+('("'+b.join('","')+'")'),null));0<a.length&&(g("Getting key stats for tickers: "+a.join(",")),c.each(a,function(a,d){f("html",'url = "'+String.format(B,d)+'" AND xpath=\'//table/tbody/tr/td[contains(@class,"yfnc_tablehead1") or contains(@class,"yfnc_tabledata1")]\'',d)}));0<d.length&&(g("Getting exchange rates: "+d.join(",")),f("yahoo.finance.xchange","pair IN "+
('("'+d.join('","')+'")'),null));0<k.length&&(g("Getting static charts: "+k.join(",")),q(k));0<n.length&&(g("Getting news: "+n.join(",")),f("feed",'url = "'+x+n[0].replace("^","%5E")+'"',n[0]))});var r="https://query.yahooapis.com/v1/public/yql?q={0}&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys",t="select * from {0} where {1}",x="http://finance.yahoo.com/rss/industry?s=",B="http://finance.yahoo.com/q/ks?s={0}+Key+Statistics",y={"yahoo.finance.quotes":"Symbol","yahoo.finance.xchange":"id",
feed:"pubDate"},z={"yahoo.finance.quotes":"quote","yahoo.finance.xchange":"currency",feed:"news",html:"stats"},C={small:"s",medium:"m",large:"l"},D={line:"l",bar:"b",candle:"c"},E=!1;window.smYqlRunQuery=f;String.format||(String.format=function(b){var a=Array.prototype.slice.call(arguments,1);return b.replace(/{(\d+)}/g,function(d,k){return"undefined"!=typeof a[k]?a[k]:d})})})(jQuery);
(function(c){c.fn.marquee=function(q){function l(c,f,h){var e=h.behavior,g=h.width,l=h.dir,p=0;return p="alternate"==e?1==c?f[h.widthAxis]-2*g:g:"slide"==e?-1==c?-1==l?f[h.widthAxis]:g:-1==l?f[h.widthAxis]-2*g:0:-1==c?f[h.widthAxis]:0}function p(){for(var q=m.length,f=null,h=null,e={},g=[],r=!1;q--;)f=m[q],h=c(f),e=h.data("marqueeState"),!0!==h.data("paused")?(f[e.axis]+=e.scrollamount*e.dir,r=-1==e.dir?f[e.axis]<=l(-1*e.dir,f,e):f[e.axis]>=l(-1*e.dir,f,e),"scroll"==e.behavior&&e.last==f[e.axis]||
"alternate"==e.behavior&&r&&-1!=e.last||"slide"==e.behavior&&r&&-1!=e.last?("alternate"==e.behavior&&(e.dir*=-1),e.last=-1,h.trigger("stop"),e.loops--,0===e.loops?(f[e.axis]="slide"!=e.behavior?l(e.dir,f,e):l(-1*e.dir,f,e),h.trigger("end")):(g.push(f),h.trigger("start"),f[e.axis]=l(e.dir,f,e))):g.push(f),e.last=f[e.axis],h.data("marqueeState",e)):g.push(f);m=g;m.length&&setTimeout(p,25)}var m=[],w=this.length;this.each(function(u){var f=c(this),h=f.attr("width")||f.width(),e=f.attr("height")||f.height(),
g=f.after("<div "+(q?'class="'+q+'" ':"")+'style="display: block-inline; width: '+h+"px; height: "+e+'px; overflow: hidden;"><div style="float: left; white-space: nowrap;">'+f.html()+"</div></div>").next(),r=g.get(0),t=(f.attr("direction")||"left").toLowerCase(),x={dir:/down|right/.test(t)?-1:1,axis:/left|right/.test(t)?"scrollLeft":"scrollTop",widthAxis:/left|right/.test(t)?"scrollWidth":"scrollHeight",last:-1,loops:f.attr("loop")||-1,scrollamount:f.attr("scrollamount")||this.scrollAmount||2,behavior:(f.attr("behavior")||
"scroll").toLowerCase(),width:/left|right/.test(t)?h:e};-1==f.attr("loop")&&"slide"==x.behavior&&(x.loops=1);f.remove();/left|right/.test(t)?g.find("> div").css("padding","0 "+h+"px"):g.find("> div").css("padding",e+"px 0");g.bind("stop",function(){g.data("paused",!0)}).bind("pause",function(){g.data("paused",!0)}).bind("start",function(){g.data("paused",!1)}).bind("unpause",function(){g.data("paused",!1)}).data("marqueeState",x);m.push(r);r[x.axis]=l(x.dir,r,x);g.trigger("start");u+1==w&&p()});return c(m)}})(jQuery);
(function(){var c,q,l,p,m,w,u,f,h,e,g,r,t,x,B,y,z,C,D,E=[].slice;c=/^\(?([^)]*)\)?(?:(.)(d+))?$/;q=1E3/30;t=document.createElement("div").style;m=null!=t.transition||null!=t.webkitTransition||null!=t.mozTransition||null!=t.oTransition;g=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;u=function(b){var a;a=document.createElement("div");
a.innerHTML=b;return a.children[0]};e=function(b,a){return b.className=b.className.replace(new RegExp("(^| )"+a.split(" ").join("|")+"( |$)","gi")," ")};w=function(b,a){e(b,a);return b.className+=" "+a};x=function(b,a){var d;if(null!=document.createEvent)return d=document.createEvent("HTMLEvents"),d.initEvent(a,!0,!0),b.dispatchEvent(d)};h=function(){var b,a;return null!=(b=null!=(a=window.performance)?"function"===typeof a.now?a.now():void 0:void 0)?b:+new Date};r=function(b,a){null==a&&(a=0);if(!a)return Math.round(b);
b*=Math.pow(10,a);b=Math.floor(b+.5);return b/Math.pow(10,a)};B=function(b){return 0>b?Math.ceil(b):Math.floor(b)};f=function(b){return b-r(b)};y=!1;(t=function(){var b,a,d,k,n;if(!y&&null!=window.jQuery){y=!0;k=["html","text"];n=[];a=0;for(d=k.length;a<d;a++)b=k[a],n.push(function(a){var d;d=window.jQuery.fn[a];return window.jQuery.fn[a]=function(a){var k;return null==a||null==(null!=(k=this[0])?k.odometer:void 0)?d.apply(this,arguments):this[0].odometer.update(a)}}(b));return n}})();setTimeout(t,
0);p=function(){function b(a){var d,k,n,c,e,f,g,h=this;this.options=a;this.el=this.options.el;if(null!=this.el.odometer)return this.el.odometer;this.el.odometer=this;e=b.options;for(d in e)a=e[d],null==this.options[d]&&(this.options[d]=a);null==(d=this.options).duration&&(d.duration=2E3);this.MAX_VALUES=this.options.duration/q/2|0;this.resetFormat();this.value=this.cleanValue(null!=(f=this.options.value)?f:"");this.renderInside();this.render();try{for(g=["innerHTML","innerText","textContent"],n=0,
c=g.length;n<c;n++)k=g[n],null!=this.el[k]&&function(a){return Object.defineProperty(h.el,a,{get:function(){var d;return"innerHTML"===a?h.inside.outerHTML:null!=(d=h.inside.innerText)?d:h.inside.textContent},set:function(a){return h.update(a)}})}(k)}catch(l){this.watchForMutations()}this}b.prototype.renderInside=function(){this.inside=document.createElement("div");this.inside.className="odometer-inside";this.el.innerHTML="";return this.el.appendChild(this.inside)};b.prototype.watchForMutations=function(){var a=
this;if(null!=l)try{return null==this.observer&&(this.observer=new l(function(d){d=a.el.innerText;a.renderInside();a.render(a.value);return a.update(d)})),this.watchMutations=!0,this.startWatchingMutations()}catch(d){}};b.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})};b.prototype.stopWatchingMutations=function(){var a;return null!=(a=this.observer)?a.disconnect():void 0};b.prototype.cleanValue=function(a){var d;"string"===typeof a&&
(a=a.replace(null!=(d=this.format.radix)?d:".","<radix>"),a=a.replace(/[.,]/g,""),a=a.replace("<radix>","."),a=parseFloat(a,10)||0);return r(a,this.format.precision)};b.prototype.bindTransitionEnd=function(){var a,d,k,b,c,e,f=this;if(!this.transitionEndBound){this.transitionEndBound=!0;d=!1;c=["transitionend","webkitTransitionEnd","oTransitionEnd","otransitionend","MSTransitionEnd"];e=[];k=0;for(b=c.length;k<b;k++)a=c[k],e.push(this.el.addEventListener(a,function(){if(d)return!0;d=!0;setTimeout(function(){f.render();
d=!1;return x(f.el,"odometerdone")},0);return!0},!1));return e}};b.prototype.resetFormat=function(){var a,d,k;(a=null!=(k=this.options.format)?k:"(,ddd).dd")||(a="d");a=c.exec(a);if(!a)throw Error("Odometer: Unparsable digit format");d=a.slice(1,4);k=d[0];a=d[1];d=d[2];return this.format={repeating:k,radix:a,precision:(null!=d?d.length:void 0)||0}};b.prototype.render=function(a){var d,k,b,c,e,g,h;null==a&&(a=this.value);this.stopWatchingMutations();this.resetFormat();this.inside.innerHTML="";e=this.options.theme;
d=this.el.className.split(" ");c=[];g=0;for(h=d.length;g<h;g++)k=d[g],k.length&&((b=/^odometer-theme-(.+)$/.exec(k))?e=b[1]:/^odometer(-|$)/.test(k)||c.push(k));c.push("odometer");m||c.push("odometer-no-transitions");e?c.push("odometer-theme-"+e):c.push("odometer-auto-theme");this.el.className=c.join(" ");this.ribbons={};this.digits=[];d=!this.format.precision||!f(a)||!1;c=a.toString().split("").reverse();k=0;for(b=c.length;k<b;k++)a=c[k],"."===a&&(d=!0),this.addDigit(a,d);return this.startWatchingMutations()};
b.prototype.update=function(a){var d,b=this;a=this.cleanValue(a);if(d=a-this.value)return e(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),0<d?w(this.el,"odometer-animating-up"):w(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(a),this.startWatchingMutations(),setTimeout(function(){b.el.offsetHeight;return w(b.el,"odometer-animating")},0),this.value=a};b.prototype.renderDigit=function(){return u('<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner"><span class="odometer-ribbon"><span class="odometer-ribbon-inner"><span class="odometer-value"></span></span></span></span></span>')};
b.prototype.insertDigit=function(a,d){return null!=d?this.inside.insertBefore(a,d):this.inside.children.length?this.inside.insertBefore(a,this.inside.children[0]):this.inside.appendChild(a)};b.prototype.addSpacer=function(a,d,b){var c;c=u('<span class="odometer-formatting-mark"></span>');c.innerHTML=a;b&&w(c,b);return this.insertDigit(c,d)};b.prototype.addDigit=function(a,d){var b,c;null==d&&(d=!0);if("-"===a)return this.addSpacer(a,null,"odometer-negation-mark");if("."===a)return this.addSpacer(null!=
(b=this.format.radix)?b:".",null,"odometer-radix-mark");if(d)for(c=!1;;){if(!this.format.repeating.length){if(c)throw Error("Bad odometer format without digits");this.resetFormat();c=!0}b=this.format.repeating[this.format.repeating.length-1];this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1);if("d"===b)break;this.addSpacer(b)}b=this.renderDigit();b.querySelector(".odometer-value").innerHTML=a;this.digits.push(b);return this.insertDigit(b)};b.prototype.animate=
function(a){return m&&"count"!==this.options.animation?this.animateSlide(a):this.animateCount(a)};b.prototype.animateCount=function(a){var d,b,c,e,f,v=this;if(b=+a-this.value)return e=c=h(),d=this.value,(f=function(){var l;if(h()-e>v.options.duration)v.value=a,v.render(),x(v.el,"odometerdone");else return l=h()-c,50<l&&(c=h(),l/=v.options.duration,l*=b,d+=l,v.render(Math.round(d))),null!=g?g(f):setTimeout(f,50)})()};b.prototype.getDigitCount=function(){var a,d,b,c,e;b=1<=arguments.length?E.call(arguments,
0):[];a=c=0;for(e=b.length;c<e;a=++c)d=b[a],b[a]=Math.abs(d);a=Math.max.apply(Math,b);return Math.ceil(Math.log(a+1)/Math.log(10))};b.prototype.getFractionalDigitCount=function(){var a,b,c,e,f,g;e=1<=arguments.length?E.call(arguments,0):[];b=/^\-?\d*\.(\d*?)0*$/;a=f=0;for(g=e.length;f<g;a=++f)c=e[a],e[a]=c.toString(),c=b.exec(e[a]),e[a]=null==c?0:c[1].length;return Math.max.apply(Math,e)};b.prototype.resetDigits=function(){this.digits=[];this.ribbons=[];this.inside.innerHTML="";return this.resetFormat()};
b.prototype.animateSlide=function(a){var b,c,e,f,g,h,l,p,m,q,r,t,x,u,z,y;r=this.value;if(p=this.getFractionalDigitCount(r,a))a*=Math.pow(10,p),r*=Math.pow(10,p);if(e=a-r){this.bindTransitionEnd();f=this.getDigitCount(r,a);g=[];for(h=u=b=0;0<=f?u<f:u>f;h=0<=f?++u:--u){t=B(r/Math.pow(10,f-h-1));l=B(a/Math.pow(10,f-h-1));h=l-t;if(Math.abs(h)>this.MAX_VALUES){m=[];q=h/(this.MAX_VALUES+this.MAX_VALUES*b*.5);for(c=t;0<h&&c<l||0>h&&c>l;)m.push(Math.round(c)),c+=q;m[m.length-1]!==l&&m.push(l);b++}else m=
function(){y=[];for(var a=t;t<=l?a<=l:a>=l;t<=l?a++:a--)y.push(a);return y}.apply(this);h=q=0;for(z=m.length;q<z;h=++q)c=m[h],m[h]=Math.abs(c%10);g.push(m)}this.resetDigits();q=g.reverse();h=f=0;for(g=q.length;f<g;h=++f)for(m=q[h],this.digits[h]||this.addDigit(" ",h>=p),null==(x=this.ribbons)[h]&&(x[h]=this.digits[h].querySelector(".odometer-ribbon-inner")),this.ribbons[h].innerHTML="",0>e&&(m=m.reverse()),a=u=0,r=m.length;u<r;a=++u)c=m[a],b=document.createElement("div"),b.className="odometer-value",
b.innerHTML=c,this.ribbons[h].appendChild(b),a===m.length-1&&w(b,"odometer-last-value"),0===a&&w(b,"odometer-first-value");0>t&&this.addDigit("-");e=this.inside.querySelector(".odometer-radix-mark");null!=e&&e.parent.removeChild(e);if(p)return this.addSpacer(this.format.radix,this.digits[p-1],"odometer-radix-mark")}};return b}();p.options=null!=(C=window.odometerOptions)?C:{};setTimeout(function(){var b,a,c,e,f;if(window.odometerOptions){e=window.odometerOptions;f=[];for(b in e)a=e[b],f.push(null!=
(c=p.options)[b]?(c=p.options)[b]:c[b]=a);return f}},0);p.init=function(){var b,a,c,e,f,g;if(null!=document.querySelectorAll){a=document.querySelectorAll(p.options.selector||".odometer");g=[];c=0;for(e=a.length;c<e;c++)b=a[c],g.push(b.odometer=new p({el:b,value:null!=(f=b.innerText)?f:b.textContent}));return g}};null!=(null!=(D=document.documentElement)?D.doScroll:void 0)&&null!=document.createEventObject?(z=document.onreadystatechange,document.onreadystatechange=function(){"complete"===document.readyState&&
!1!==p.options.auto&&p.init();return null!=z?z.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){if(!1!==p.options.auto)return p.init()},!1);"function"===typeof define&&define.amd?define(["jquery"],function(){return p}):!1===typeof exports?module.exports=p:window.Odometer=p}).call(this);
(function(c){c.tablesort=function(q,l){var p=this;this.$table=q;this.$thead=this.$table.find("thead");this.settings=c.extend({},c.tablesort.defaults,l);this.$table.find("th").bind("click.tablesort",function(){p.sort(c(this))});this.direction=this.$th=this.index=null};c.tablesort.prototype={sort:function(q,l){var p=new Date,m=this,w=this.$table,u=0<this.$thead.length?w.find("tbody tr"):w.find("tr").has("td"),f=w.find("tr td:nth-of-type("+(q.index()+1)+")"),h=q.data().sortBy,e=[],g=f.map(function(e,
f){return h?"function"===typeof h?h(c(q),c(f),m):h:null!=c(this).data().sortValue?c(this).data().sortValue:c(this).text()});if(0!==g.length){m.$table.find("th").removeClass(m.settings.asc+" "+m.settings.desc);this.direction="asc"!==l&&"desc"!==l?"asc"===this.direction?"desc":"asc":l;l="asc"==this.direction?1:-1;m.$table.trigger("tablesort:start",[m]);m.log("Sorting by "+this.index+" "+this.direction);for(var r=0,t=g.length;r<t;r++)e.push({index:r,cell:f[r],row:u[r],value:g[r]});e.sort(function(c,
e){return c.value>e.value?1*l:c.value<e.value?-1*l:0});c.each(e,function(c,e){w.append(e.row)});q.addClass(m.settings[m.direction]);m.log("Sort finished in "+((new Date).getTime()-p.getTime())+"ms");m.$table.trigger("tablesort:complete",[m])}},log:function(q){(c.tablesort.DEBUG||this.settings.debug)&&console&&console.log&&console.log("[tablesort] "+q)},destroy:function(){this.$table.find("th").unbind("click.tablesort");this.$table.data("tablesort",null);return null}};c.tablesort.DEBUG=!1;c.tablesort.defaults=
{debug:c.tablesort.DEBUG,asc:"sorted ascending",desc:"sorted descending"};c.fn.tablesort=function(q){var l,p;return this.each(function(){l=c(this);(p=l.data("tablesort"))&&p.destroy();l.data("tablesort",new c.tablesort(l,q))})}})(jQuery);
